openapi: 3.0.3
info:
  title: User Profile API
  description: User profile management endpoints
  version: 1.0.0

servers:
  - url: http://localhost:8000/api
    description: Development server

tags:
  - name: Profile
    description: User profile operations

paths:
  /profile:
    get:
      tags:
        - Profile
      summary: Get current user profile
      description: Retrieve authenticated user's profile (skill levels and hardware access)
      operationId: getProfile
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileResponse'
        '401':
          description: Unauthorized (invalid or missing JWT token)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Profile not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    ProfileResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          $ref: '#/components/schemas/UserProfile'

    UserProfile:
      type: object
      properties:
        userId:
          type: string
          format: uuid
        skillLevels:
          type: object
          properties:
            ai:
              type: integer
              minimum: 1
              maximum: 5
            ml:
              type: integer
              minimum: 1
              maximum: 5
            ros:
              type: integer
              minimum: 1
              maximum: 5
            python:
              type: integer
              minimum: 1
              maximum: 5
            linux:
              type: integer
              minimum: 1
              maximum: 5
        hardwareAccess:
          type: object
          properties:
            gpu:
              type: boolean
            jetson:
              type: boolean
            robot:
              type: boolean
            cloudOnly:
              type: boolean
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    ErrorResponse:
      type: object
      properties:
        error:
          type: string
        details:
          type: object
          additionalProperties: true
